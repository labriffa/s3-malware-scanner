'use strict';

const MessageQueue = require('./MessageQueue');

/**
 * A wrapper class for an AWS message queue
 */
module.exports = class SQSMessageQueue extends MessageQueue {
	constructor(sqs) {
		super(sqs);
	}

	/**
	 * Sends the details of a message to the object message queue and fires the callback
	 * 
	 * @param {*} message 
	 * @param {*} callback 
	 */
	sendMessage(message, callback) {
		this.queue.sendMessage(message.getParams(), (err, data) => {
			err ? callback(err) : callback(null, data);
		});
	}
}